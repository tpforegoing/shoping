<div class="order-detail-container">
    <mat-card class="order-card">
        <mat-card-header>
        <mat-icon mat-card-avatar>shopping_bag</mat-icon>
        <mat-card-title>Замовлення #{{ order?.id || '—' }}</mat-card-title>
        <mat-card-subtitle>
            <div class="status-badge" [class]="getStatusColor(order?.status || '')">
            {{ getStatusLabel(order?.status || '') }}
            </div>
        </mat-card-subtitle>
        <span class="spacer"></span>
        @if (isMobile) {
            <button mat-icon-button	 (click)="onBack()">
            <mat-icon>arrow_back</mat-icon>
            </button>
        } @else {          
            <button mat-button (click)="onBack()">
            <mat-icon>arrow_back</mat-icon>
            Назад
            </button>
        }
        </mat-card-header>
        
        <mat-card-content>
            <div class="overview-grid">
                @if(!isMobile){
                    <!-- detail section -->
                    <div class="detail-section">
                        <h3>Інформація про клієнта</h3>
                        <div class="detail-item">
                            <span class="detail-label">Ім'я:</span>
                            <span class="detail-value">{{ order?.customer?.name }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Код:</span>
                            <span class="detail-value">{{ order?.customer?.code }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Телефон:</span>
                            <span class="detail-value">{{ order?.customer?.phone_no || 'Не вказано' }}</span>
                        </div>
                    </div>
        
                    <!--  -->
                    <div class="detail-section">
                        <h3>Додаткова інформація</h3>
                        <div class="detail-item">
                            <span class="detail-label">Створено:</span>
                            <span class="detail-value">{{ order?.created | date:'short' }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Оновлено:</span>
                            <span class="detail-value">{{ order?.updated | date:'short' }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Створив:</span>
                            <span class="detail-value">{{ order?.created_by || 'Не вказано' }}</span>
                        </div>
                    </div>
                }
                
                <!-- total section -->
                <div class="detail-section">
                    <h3>До сплати</h3>
                    <span class="detail-label">Загальна сума: </span>
                    <span class="total-value">{{ order?.total_price ? order?.total_price : 0 }} грн</span>
                </div>
            </div>
        </mat-card-content>
        @if (isEditable(order)) {
           
            <mat-card-actions>
            <button mat-button color="primary" (click)="onEdit()" >
                <mat-icon>edit</mat-icon>
                Редагувати
            </button>
            </mat-card-actions>
        }        
    </mat-card>
</div>